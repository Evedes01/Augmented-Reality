<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Eve's GeoAR.js</title>
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <!-- <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>-->
    <script src='build/aframe-ar-nft.js'></script>

    <!-- aframe-extras script needed for using the glb's animation-->
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>

</head>

<script>
    AFRAME.registerComponent("On_click", {
    init: function() {
    let toggle = false
      this.el.addEventListener("click", (e) => {
        let box = document.querySelectorAll(".clickable")
        box.forEach(function(el) {
            el.setAttribute("visible", toggle)
        })
        toggle = !toggle
      })
    }
    })
</script>

<body style='margin: 0; overflow: hidden;'>
    <a-scene
        vr-mode-ui="enabled: false"
		       embedded
		       arjs='sourceType: webcam; debugUIEnabled: false;'>

    <a-entity id="cameraRig">
          <a-entity id="head" camera wasd-controls look-controls cursor="rayOrigin: mouse" position="0 1.6 0"></a-entity>
    </a-entity>

    <a-entity
      class="click" gltf-model="assets/shrine.glb" scale="5 5 5" rotation="0 90 0"
            gps-entity-place="latitude: 40.93673; longitude: 140.31253;" animation-mixer="clip: *; loop: repeat; timeScale: 1.5;" On_click>
        </a-entity>

    <a-text id="text"
      class="clickable" value="This is the entrance of the Takayamaryu Shrine in Aomori Prefecture, Japan." scale="5 5 5" position="1 0 -61"
       text="color: #000000; font: dejavu; align: center;" visible="false">
    </a-text>

        <a-camera
            rotation-reader
            gps-camera="simulateLatitude: 40.93613; simulateLongitude: 140.31253; minDistance: 1; maxDistance: 700;"
        >
		</a-camera>
	</a-scene>
</body>
